{"version":3,"sources":["webpack:///./src/pages/Login.vue?99dc","webpack:///src/pages/Login.vue","webpack:///./src/pages/Login.vue?af2d","webpack:///./src/pages/Login.vue","webpack:///./node_modules/_core-js@2.6.5@core-js/modules/_string-context.js","webpack:///./src/api/core-api.js","webpack:///./node_modules/_core-js@2.6.5@core-js/modules/_fails-is-regexp.js","webpack:///./node_modules/_core-js@2.6.5@core-js/modules/es6.string.starts-with.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","id","fluid","fill-height","align-center","justify-center","xs12","sm8","md4","dark","color","_v","_s","title","ref","lazy-validation","model","value","callback","$$v","valid","expression","prepend-icon","label","rules","mobileRules","required","mobile","type","passwordRules","append-icon","showPassword","on","click:append","$event","password","click","submit","staticRenderFns","REG","isMobile","isPassword","Loginvue_type_script_lang_js_","name","data","v","test","components","methods","Object","objectSpread","vuex_esm","_this","$refs","form","validate","_data","core_api","then","setUserInfo","user","setUserToken","token","code","$route","query","redirect","startsWith","$router","push","path","computed","created","sessionStorage","clear","pages_Loginvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","installComponents_default","VApp","VBtn","VCard","VCardActions","components_VCard","VCardText","VContainer","VContent","VFlex","VForm","VLayout","VSpacer","VGrid","VTextField","VToolbar","VToolbarTitle","components_VToolbar","isRegExp","__webpack_require__","defined","module","exports","that","searchString","NAME","TypeError","String","d","addressList","userLogin","userMenu","adminUserList","adminRoleList","adminMenuList","_axios__WEBPACK_IMPORTED_MODULE_0__","_api_config__WEBPACK_IMPORTED_MODULE_1__","fetch","api","baseUrl","params","MATCH","KEY","re","e","f","$export","toLength","context","STARTS_WITH","$startsWith","P","F","index","Math","min","arguments","length","undefined","search","call","slice"],"mappings":"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","file":"js/group-login.ca0c1599.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"id\":\"inspire\"}},[_c('v-content',[_c('v-container',{attrs:{\"fluid\":\"\",\"fill-height\":\"\"}},[_c('v-layout',{attrs:{\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm8\":\"\",\"md4\":\"\"}},[_c('v-card',[_c('v-toolbar',{attrs:{\"dark\":\"\",\"color\":\"primary\"}},[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.title))])],1),_c('v-card-text',[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"prepend-icon\":\"phone\",\"label\":\"手机号\",\"rules\":_vm.mobileRules,\"required\":\"\"},model:{value:(_vm.mobile),callback:function ($$v) {_vm.mobile=$$v},expression:\"mobile\"}}),_c('v-text-field',{attrs:{\"prepend-icon\":\"lock\",\"label\":\"密码\",\"type\":\"password\",\"rules\":_vm.passwordRules,\"required\":\"\",\"append-icon\":_vm.showPassword ? 'visibility_off' : 'visibility',\"type\":_vm.showPassword ? 'text' : 'password'},on:{\"click:append\":function($event){_vm.showPassword = !_vm.showPassword}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"登录\")])],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-app id=\"inspire\">\r\n    <v-content>\r\n      <v-container fluid fill-height>\r\n        <v-layout align-center justify-center>\r\n          <v-flex xs12 sm8 md4>\r\n            <v-card>\r\n              <v-toolbar dark color=\"primary\">\r\n                <v-toolbar-title>{{title}}</v-toolbar-title>\r\n              </v-toolbar>\r\n              <v-card-text>\r\n                <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\r\n                  <v-text-field prepend-icon=\"phone\" label=\"手机号\"\r\n                                v-model=\"mobile\" :rules=\"mobileRules\" required/>\r\n                  <v-text-field prepend-icon=\"lock\" label=\"密码\" type=\"password\"\r\n                                v-model=\"password\" :rules=\"passwordRules\" required\r\n                                @click:append=\"showPassword = !showPassword\"\r\n                                :append-icon=\"showPassword ? 'visibility_off' : 'visibility'\"\r\n                                :type=\"showPassword ? 'text' : 'password'\"/>\r\n                </v-form>\r\n              </v-card-text>\r\n              <v-card-actions>\r\n                <v-spacer></v-spacer>\r\n                <v-btn color=\"primary\" @click=\"submit\">登录</v-btn>\r\n              </v-card-actions>\r\n            </v-card>\r\n          </v-flex>\r\n        </v-layout>\r\n      </v-container>\r\n    </v-content>\r\n  </v-app>\r\n</template>\r\n<script>\r\n  import {mapGetters, mapActions} from 'vuex'\r\n  import {userLogin} from '@/api/core-api'\r\n\r\n  const REG = {\r\n    isMobile: /^1[3456789]\\d{9}$/,\r\n    isPassword: /^.{4,16}$/\r\n  };\r\n\r\n  export default {\r\n    name: 'login',\r\n    data() {\r\n      return {\r\n        valid: true,\r\n        showPassword: false,\r\n        mobile: '',\r\n        mobileRules: [\r\n          v => !!v || '必须填写手机号',\r\n          v => REG.isMobile.test(v) || '不是合法的手机号'\r\n        ],\r\n        password: '',\r\n        passwordRules: [\r\n          v => !!v || '必须填写密码',\r\n          v => REG.isPassword.test(v) || '密码长度应为4-16位'\r\n        ]\r\n      }\r\n    },\r\n    components: {},\r\n    methods: {\r\n      ...mapActions([\r\n        'setUserInfo',\r\n        'setUserToken'\r\n      ]),\r\n      submit() {\r\n        if (this.$refs.form.validate()) {\r\n          let _data = {\r\n            mobile: this.mobile,\r\n            password: this.password\r\n          };\r\n          // 请求登录\r\n          userLogin(_data).then((data) => {\r\n            // 保存登录状态和信息\r\n            this.setUserInfo(data.data.user);\r\n            this.setUserToken(data.data.token);\r\n            if (data.code === 0) {\r\n              if (this.$route.query.redirect && !this.$route.query.redirect.startsWith('/login')) {\r\n                this.$router.push({path: this.$route.query.redirect});\r\n              } else {\r\n                this.$router.push({path: 'app/index'});\r\n              }\r\n            }\r\n          });\r\n        }\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapGetters([\r\n        'title'\r\n      ])\r\n    },\r\n    created() {\r\n      this.setUserInfo({});\r\n      this.setUserToken(null);\r\n      sessionStorage.clear();\r\n    }\r\n  }\r\n</script>\r\n","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js??ref--16-2!../../node_modules/_vuetify-loader@1.2.1@vuetify-loader/lib/loader.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.6.2@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js??ref--16-2!../../node_modules/_vuetify-loader@1.2.1@vuetify-loader/lib/loader.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.6.2@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=2df41b22&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.6.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!D:/work/idea/butterfly-front/node_modules/_vuetify-loader@1.2.1@vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib'\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VCardActions } from 'vuetify/lib'\nimport { VCardText } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VContent } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VForm } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VSpacer } from 'vuetify/lib'\nimport { VTextField } from 'vuetify/lib'\nimport { VToolbar } from 'vuetify/lib'\nimport { VToolbarTitle } from 'vuetify/lib'\ninstallComponents(component, {VApp,VBtn,VCard,VCardActions,VCardText,VContainer,VContent,VFlex,VForm,VLayout,VSpacer,VTextField,VToolbar,VToolbarTitle})\n","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n","import {fetch} from './axios'\r\nimport api from './api-config'\r\n\r\n//地区\r\nexport const addressList = (data) => fetch(api.baseUrl + 'core/address.json', {\r\n  'params': data,\r\n  'type': 'get'\r\n});\r\n\r\n//用户登录\r\nexport const userLogin = (data) => fetch(api.baseUrl + 'core/login.json', {\r\n  'params': data,\r\n  'type': 'get'\r\n});\r\n\r\n\r\nexport const userMenu = (data) => fetch(api.baseUrl + 'core/menu.json', {\r\n  'params': data,\r\n  'type': 'get'\r\n});\r\n\r\n\r\n// 用户列表\r\nexport const adminUserList = (data) => fetch(api.baseUrl + 'core/adminUserList.json', {\r\n  'params': data,\r\n  'type': 'get'\r\n});\r\nexport const adminRoleList = (data) => fetch(api.baseUrl + 'core/adminRoleList.json', {\r\n  'params': data,\r\n  'type': 'get'\r\n});\r\nexport const adminMenuList = (data) => fetch(api.baseUrl + 'core/menu.json', {\r\n  'params': data,\r\n  'type': 'get'\r\n});\r\n","var MATCH = require('./_wks')('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n","// 21.1.3.18 String.prototype.startsWith(searchString [, position ])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar STARTS_WITH = 'startsWith';\nvar $startsWith = ''[STARTS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(STARTS_WITH), 'String', {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = context(this, searchString, STARTS_WITH);\n    var index = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return $startsWith\n      ? $startsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n"],"sourceRoot":""}