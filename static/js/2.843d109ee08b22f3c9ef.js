webpackJsonp([2],{"1kS7":function(e,t){t.f=Object.getOwnPropertySymbols},Dd8w:function(e,t,s){"use strict";t.__esModule=!0;var r,o=s("woOf"),n=(r=o)&&r.__esModule?r:{default:r};t.default=n.default||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e}},Luci:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("Dd8w"),o=s.n(r),n=s("NYxO"),i=s("p+Ws"),a={isMobile:/^1[3456789]\d{9}$/,isPassword:/^.{4,16}$/},l={name:"login",data:function(){return{valid:!0,showPassword:!1,mobile:"",mobileRules:[function(e){return!!e||"必须填写手机号"},function(e){return a.isMobile.test(e)||"不是合法的手机号"}],password:"",passwordRules:[function(e){return!!e||"必须填写密码"},function(e){return a.isPassword.test(e)||"密码长度应为4-16位"}]}},components:{},methods:o()({},Object(n.b)(["setUserInfo","setUserToken"]),{submit:function(){var e=this;if(this.$refs.form.validate()){var t={mobile:this.mobile,password:this.password};Object(i.d)(t).then(function(t){e.setUserInfo(t.data.user),e.setUserToken(t.data.token),0===t.code&&(e.$route.query.redirect&&!e.$route.query.redirect.startsWith("/login")?e.$router.push({path:e.$route.query.redirect}):e.$router.push({path:"home/index"}))})}}}),created:function(){this.setUserInfo({}),this.setUserToken(null),sessionStorage.clear()}},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-layout",{attrs:{"align-center":"","justify-center":""}},[s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-text-field",{attrs:{"prepend-icon":"phone",label:"手机号",rules:e.mobileRules,required:""},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}}),e._v(" "),s("v-text-field",{attrs:{"prepend-icon":"lock",label:"密码",type:"password",rules:e.passwordRules,required:"","append-icon":e.showPassword?"visibility_off":"visibility",type:e.showPassword?"text":"password"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),s("v-layout",{attrs:{"justify-space-around":"",wrap:""}},[s("v-flex",{attrs:{"d-flex":""}},[s("v-btn",{attrs:{color:"primary"},on:{click:e.submit}},[e._v("登录")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},c=s("VU/8")(l,u,!1,null,null,null);t.default=c.exports},NpIQ:function(e,t){t.f={}.propertyIsEnumerable},R4wc:function(e,t,s){var r=s("kM2E");r(r.S+r.F,"Object",{assign:s("To3L")})},To3L:function(e,t,s){"use strict";var r=s("lktj"),o=s("1kS7"),n=s("NpIQ"),i=s("sB3e"),a=s("MU5D"),l=Object.assign;e.exports=!l||s("S82l")(function(){var e={},t={},s=Symbol(),r="abcdefghijklmnopqrst";return e[s]=7,r.split("").forEach(function(e){t[e]=e}),7!=l({},e)[s]||Object.keys(l({},t)).join("")!=r})?function(e,t){for(var s=i(e),l=arguments.length,u=1,c=o.f,d=n.f;l>u;)for(var f,p=a(arguments[u++]),v=c?r(p).concat(c(p)):r(p),b=v.length,w=0;b>w;)d.call(p,f=v[w++])&&(s[f]=p[f]);return s}:l},V3tA:function(e,t,s){s("R4wc"),e.exports=s("FeBl").Object.assign},woOf:function(e,t,s){e.exports={default:s("V3tA"),__esModule:!0}}});
//# sourceMappingURL=2.843d109ee08b22f3c9ef.js.map