webpackJsonp([3],{Luci:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("Dd8w"),o=s.n(r),i=s("NYxO"),a=s("p+Ws"),n={isMobile:/^1[3456789]\d{9}$/,isPassword:/^.{4,16}$/},l={name:"login",data:function(){return{valid:!0,showPassword:!1,mobile:"",mobileRules:[function(e){return!!e||"必须填写手机号"},function(e){return n.isMobile.test(e)||"不是合法的手机号"}],password:"",passwordRules:[function(e){return!!e||"必须填写密码"},function(e){return n.isPassword.test(e)||"密码长度应为4-16位"}]}},components:{},methods:o()({},Object(i.b)(["setUserInfo","setUserToken"]),{submit:function(){var e=this;if(this.$refs.form.validate()){var t={mobile:this.mobile,password:this.password};Object(a.d)(t).then(function(t){e.setUserInfo(t.data.user),e.setUserToken(t.data.token),0===t.code&&(e.$route.query.redirect&&!e.$route.query.redirect.startsWith("/login")?e.$router.push({path:e.$route.query.redirect}):e.$router.push({path:"home/index"}))})}}}),computed:o()({},Object(i.c)(["title"])),created:function(){this.setUserInfo({}),this.setUserToken(null),sessionStorage.clear()}},d={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",{attrs:{id:"inspire"}},[s("v-content",[s("v-container",{attrs:{fluid:"","fill-height":""}},[s("v-layout",{attrs:{"align-center":"","justify-center":""}},[s("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[s("v-card",[s("v-toolbar",{attrs:{dark:"",color:"primary"}},[s("v-toolbar-title",[e._v(e._s(e.title))])],1),e._v(" "),s("v-card-text",[s("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-text-field",{attrs:{"prepend-icon":"phone",label:"手机号",rules:e.mobileRules,required:""},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}}),e._v(" "),s("v-text-field",{attrs:{"prepend-icon":"lock",label:"密码",type:"password",rules:e.passwordRules,required:"","append-icon":e.showPassword?"visibility_off":"visibility",type:e.showPassword?"text":"password"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),e._v(" "),s("v-card-actions",[s("v-spacer"),e._v(" "),s("v-btn",{attrs:{color:"primary"},on:{click:e.submit}},[e._v("登录")])],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},c=s("VU/8")(l,d,!1,null,null,null);t.default=c.exports}});
//# sourceMappingURL=3.18f25fe29e073caeb43c.js.map